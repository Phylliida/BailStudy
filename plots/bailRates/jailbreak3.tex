
\begin{figure}[H]
\centering

\begin{tikzpicture}
\definecolor{bailtool}{RGB}{155, 89, 182}                  % Purple (warm undertones)
\definecolor{bailstring}{RGB}{231, 76, 60}                 % Bright Red
\definecolor{bailpromptcontinuefirst}{RGB}{230, 126, 34}   % Standard Orange
\definecolor{bailpromptbailfirst}{RGB}{243, 156, 18}       % Golden Orange
\definecolor{bailpromptunknown}{RGB}{149,165,166}          % Gray
\usetikzlibrary{patterns}
\pgfplotstableread{
Label toolBailPr toolBailPr_err toolContinuePr toolContinuePr_err strBailPr strBailPr_err strContinuePr strContinuePr_err promptBailFirstBailPr promptBailFirstBailPr_err promptBailFirstUnknownPr promptBailFirstContinuePr promptBailFirstContinuePr_err  promptContinueFirstBailPr promptContinueFirstBailPr_err promptContinueFirstUnknownPr  promptContinueFirstContinuePr promptContinueFirstContinuePr_err 
Qwen3-8B 0.3705521472392638 1.5036159398498314 99.62944785276073 15.28877793430665 0 0 0 0 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0.00245398773006135 1.1805781054325126 99.99754601226994 15.316544945692618 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 6.750920245398772 4.1569683435056985 32.50306748466258 60.74601226993865 11.984074885208512 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0 0 0 0 26.596319018404905 7.992138644839166 20.063803680981597 53.339877300613495 11.24146188452717
{} 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
Qwen3-8B 5.126380368098159 3.6685151924259385 94.87361963190185 14.925191361183707 0 0 0 0 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0.5398773006134969 1.6308598113834067 99.4601226993865 15.27598745899465 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 1.5263803680981596 2.2322921245713006 0.27239263803680985 98.20122699386503 15.180541201378183 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0 0 0 0 6.795092024539877 4.169448438872121 0.13006134969325153 93.07484662576687 14.785249728952222
{} 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
Qwen3-8B 0.9447852760736196 1.9008954586421576 99.05521472392638 15.245356231626609 0 0 0 0 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0.01717791411042945 1.1951777014201521 99.98282208588957 15.315435271814849 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 3.5656441717791414 3.128030416500624 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0 0 0 0 52.29938650306748 11.133071226076433 0 0 0
{} 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
Qwen3-8B 41.47484662576687 9.934034036400673 58.52515337423313 11.766425707027082 0 0 0 0 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 20.939877300613496 7.114263540617016 79.0601226993865 13.64395209612042 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 4.903067484662577 3.5961748179745587 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0 0 0 0 49.31779141104295 10.816325935276309 0 0 0
{} 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
Qwen3-8B 0.03190184049079754 1.2096010543881799 99.9680981595092 15.314325514195476 0 0 0 0 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0.00245398773006135 1.1805781054325126 99.99754601226994 15.316544945692618 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 5.119018404907975 3.666153149241939 10.230674846625767 84.65030674846625 14.110656773226596 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0 0 0 0 41.862576687116565 9.979518817769256 0.6061349693251534 57.53128834355829 11.667677508624612
{} 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
Qwen3-8B 8.186503067484663 4.545012179876084 91.81349693251533 14.686292450928168 0 0 0 0 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0.6233128834355829 1.6900384628371519 99.37668711656443 15.269680802948999 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 4.495705521472393 3.46031110709724 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0 0 0 0 73.54601226993866 13.166855045364553 0 0 0
{} 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
Qwen3-8B 65.50184049079755 12.437037942524235 34.49815950920245 9.076062844291563 0 0 0 0 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 40.68711656441718 9.840966594335212 59.31288343558282 11.8440939879566 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 14.785276073619633 6.013830032100903 0.9177914110429447 84.29693251533742 14.081628280879183 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0 0 0 0 65.06503067484662 12.39614276462999 0.46871165644171775 34.466257668711656 9.071950390393372
{} 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
Qwen3-8B 28.969325153374232 8.332665078818872 71.03067484662577 12.943197454415742 0 0 0 0 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 1.8012269938650307 2.3728397933444505 98.19877300613497 15.1803545362288 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 13.42085889570552 5.741172437767769 32.81717791411043 53.76196319018405 11.285128422815621 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0 0 0 0 49.011042944785274 10.783200123494439 28.066257668711657 22.92269938650307 7.433921603523597
{} 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
Qwen3-8B 10.687116564417177 5.151379553467638 89.31288343558282 14.488036046792937 0 0 0 0 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 1.0822085889570552 1.984204104147342 98.91779141104294 15.234945604368487 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 17.37423312883436 6.499641722226604 38.34601226993865 44.279754601227 10.258454535803871 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0 0 0 0 52.77055214723927 11.18228677558446 30.16687116564417 17.062576687116565 6.443112749258955
{} 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
}\datatable


\begin{axis}[
  ybar stacked,
  width = \linewidth,
  bar width = 8pt,
  ymin=0, ymax=100,
  xtick=data,
  ylabel = {\% of BailBench prompts where model bails},
  enlarge x limits = {abs = 20pt},
  xticklabels from table={\datatable}{Label},
  xticklabel style={xshift=12pt,rotate=90,align=center}, % ‚Üê rightwards shift
  xtick style={draw=none},
  enlarge y limits={value=0.05,upper},
  legend style={cells={anchor=east},legend pos=north east},
  reverse legend=false
]
    \addplot[fill=bailtool,
           error bars/.cd,
           y dir=both,
           y explicit,
          ]
    table[
        x expr=\coordindex,
        y=toolBailPr,
        y error plus=toolBailPr_err,
        y error minus=toolBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Tool}
    \addplot[fill=bailstring,
           error bars/.cd,
           y dir=both,
           y explicit,
          ]
    table[
        x expr=\coordindex,
        y=strBailPr,
        y error plus=strBailPr_err,
        y error minus=strBailPr_err
    ]{\datatable};
    \addlegendentry{Bail String}
    \addplot[fill=bailpromptcontinuefirst,
           error bars/.cd,
           y dir=both,
           y explicit
          ]
    table[
        x expr=\coordindex,
        y=promptBailFirstBailPr,
        y error plus=promptBailFirstBailPr_err,
        y error minus=promptBailFirstBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Prompt Continue-first}
    \addplot[fill=bailpromptunknown
          ]
    table[
        x expr=\coordindex,
        y=promptBailFirstUnknownPr,
        forget plot,
    ]{\datatable};
    \addplot[fill=bailpromptbailfirst,
           error bars/.cd,
           y dir=both,
           y explicit
          ]
    table[
        x expr=\coordindex,
        y=promptContinueFirstBailPr,
        y error plus=promptContinueFirstBailPr_err,
        y error minus=promptContinueFirstBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Prompt Bail-first}
    \addplot[fill=bailpromptunknown
          ]
    table[
        x expr=\coordindex,
        y=promptContinueFirstUnknownPr,
        forget plot,
    ]{\datatable};
    \addplot[
      draw=none,                       % nothing visible
      fill=bailpromptunknown
    ] coordinates {(0,0)};             % single dummy point
    \addlegendentry{Refusal Classifier/Invalid Outputs}

\end{axis}
\end{tikzpicture}
\caption{Various jailbreak3 models' bail rates on BailBench. Error bars are Wilson score 95\% confidence interval. The grey bar occurs when the model doesn't comply with the requested bail format, or when a refusal classifier prevented model outputs. Continue-first and Bail-first are the two bail prompt orderings, to assess positional bias.}
\label{fig:jailbreak3-bail-rates}
\end{figure}
